"use strict";angular.module("mecanexAdminApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","ui.router","ui.bootstrap","underscore","angular.filter","forerunnerdb"]).config(["$stateProvider","$urlRouterProvider",function(a,b){b.otherwise("/collections"),a.state("collections",{"abstract":!0,url:"/collections",views:{"":{templateUrl:"views/collections.html"}}}).state("collections.default",{url:"",views:{"":{templateUrl:"views/collections.list.html",controller:"CollectionsListCtrl"},list:{templateUrl:"views/videos.list.html",controller:"VideosListCtrl"}}}).state("collections.list",{url:"/:colId",views:{"":{templateUrl:"views/collections.list.html",controller:"CollectionsListCtrl"},list:{templateUrl:"views/videos.list.html",controller:"VideosListCtrl"}}})}]),angular.module("mecanexAdminApp").factory("chance",["$window",function(a){return new a.Chance}]),angular.module("mecanexAdminApp").factory("Fsxml",function(){return function(){function a(){return(new DOMParser).parseFromString("<fsxml><properties /></fsxml>","text/xml")}return{renderFromResource:function(b){var c=a();if(!b.toJSON)throw new Error("Object doesn't implement toJSON(), are you using a $resource?");var d=c.getElementsByTagName("properties")[0];for(var e in b.toJSON()){var f=c.createElement(e);f.textContent=b[e],d.appendChild(f)}return c}}}}),angular.module("mecanexAdminApp").factory("SpringfieldResource",["Fsxml","$resource",function(a,b){return function(){return{create:function(c){return b(c,{id:"@_id"},{save:{method:"POST",transformRequest:function(b){var c=new a;return c.renderFromResource(b)},headers:{Accept:"text/xml","Content-Type":"text/xml;charset=utf-8"}},update:{method:"PUT",url:c+"/properties",transformRequest:function(b){var c=new a;return c.renderFromResource(b)},headers:{Accept:"text/xml","Content-Type":"text/xml;charset=utf-8"}}})}}}}]),angular.module("mecanexAdminApp").factory("Users",["SpringfieldResource",function(a){var b=new a;return b.create("/users/:id")}]),angular.module("mecanexAdminApp").factory("RandomData",["chance","$q","$fdb","_",function(a,b,c,d){function e(){return{_id:a.guid(),name:a.sentence({words:a.integer({min:1,max:5})}),description:a.sentence({words:a.integer({min:30,max:100})}),img:"https://unsplash.it/320/180/?random&i="+a.integer({min:10,max:20})}}function f(){var b=a.integer({min:50,max:150}),c=a.n(e,b),f=a.guid();return c=d.map(c,function(a){return a.colId=f,a}),{collection:{_id:f,name:a.sentence({words:a.integer({min:1,max:5})}),img:"https://unsplash.it/320/180/?random&i="+a.integer({min:10,max:20}),description:a.paragraph(),amountVideos:c.length},videos:c}}function g(){return{name:a.sentence({words:a.integer({min:1,max:5})}),description:a.sentence({words:a.integer({min:30,max:100})}),img:"https://unsplash.it/320/180/?random&i="+a.integer({min:10,max:20})}}var h=a.integer({min:3,max:12}),i=a.integer({min:50,max:150}),j=a.n(f,h),k=a.n(g,i),l=c.db("Mecanex"),m=l.collection("collections"),n=l.collection("collection-videos"),o=l.collection("external-videos");m.insert(d.map(j,function(a){return a.collection}));for(var p=[],q=d.map(j,function(a){return a.videos}),r=0;r<q.length;r++)p=p.concat(q[r]);return n.insert(p),o.insert(k),{queryCollections:function(a){a=a?a:{};var b=a.query?a.query:{},c=a.settings?a.settings:{page:0,limit:10},d=m.find(b,{$skip:c.page,$limit:c.limit});return{totalItems:d.$cursor.records,itemsPerPage:c.limit,page:c.page,items:d}},queryCollectionVideos:function(a){a=a?a:{};var b=a.query?a.query:{},c=a.settings?a.settings:{page:0,limit:10},d=n.find(b,{$page:c.page,$limit:c.limit});return{totalItems:d.$cursor.records,itemsPerPage:c.limit,page:c.page,items:d}},queryExternalVideos:function(a){a=a?a:{};var b=a.query?a.query:{},c=a.settings?a.settings:{page:0,limit:10},d=o.find(b,{$page:c.page,$limit:c.limit});return{totalItems:d.$cursor.records,itemsPerPage:c.limit,page:c.page,items:d}}}}]),angular.module("mecanexAdminApp").factory("ExternalVideos",["chance","$q","RandomData",function(a,b,c){return{query:function(a){return b(function(b){b(c.queryExternalVideos(a))})}}}]),angular.module("mecanexAdminApp").factory("ColVideos",["RandomData","chance","$q",function(a,b,c){return{query:function(b){return c(function(c){c(a.queryCollectionVideos(b))})}}}]),angular.module("mecanexAdminApp").factory("Collections",["chance","$q","RandomData",function(a,b,c){return{query:function(a){return b(function(b){b(c.queryCollections(a))})}}}]),angular.module("mecanexAdminApp").controller("MainCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("mecanexAdminApp").controller("AboutCtrl",["Users",function(a){var b=new a({id:"123",firstName:"david",lastName:"ammeraal"});b.$update({id:b.id}),this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("mecanexAdminApp").controller("CollectionsListCtrl",["$scope","$uibModal","Collections",function(a,b,c){a.cols=[],a.colsPerSlide=4,a.curSlide=0,a.find=function(){c.query().then(function(b){b.items.unshift(null),a.cols=b.items})},a.newCollectionDialog=function(){b.open({animation:!0,templateUrl:"views/new-collection-dialog.html",controller:"NewCollectionDialogCtrl"})},a.find()}]),angular.module("mecanexAdminApp").controller("VideosListCtrl",["$scope","$log","$stateParams","ColVideos","ExternalVideos",function(a,b,c,d,e){a.items=[],a.totalItems=0,a.currentPage=1,a.limit=10,a.maxPages=5,a.col=c.colId?c.colId:null;var f=a.col?d:e,g=a.col?{colId:a.col}:{};a.setPage=function(b){a.currentPage=b,f.query({query:g,settings:{page:a.currentPage,limit:a.limit}}).then(function(b){a.totalItems=b.totalItems,a.currentPage=b.page,a.items=b.items})},a.pageChanged=function(){a.setPage(a.currentPage)},a.actions=[{description:"Add to collection",icon:"plus"}],a.setPage(1)}]),angular.module("mecanexAdminApp").controller("NewCollectionDialogCtrl",["$scope","$uibModalInstance",function(a,b){a.ok=function(){b.close()},a.cancel=function(){b.close()}}]),angular.module("mecanexAdminApp").run(["$templateCache",function(a){a.put("views/about.html","<p>This is the about view.</p>"),a.put("views/collection.html",'<div class="row"> <div class="navbar navbar-default"> <div class="col-sm-3"> <form class="navbar-form navbar-input-group" role="search"> <div class="form-group"> <input type="text" class="form-control" placeholder="Search"> </div> <button type="submit" class="btn btn-default"><i class="glyphicon glyphicon-search"></i></button> </form> </div> <div class="col-sm-6"> <form class="text-center navbar-form navbar-input-group paging" role="pagination"> <div class="form-group"> <uib-pagination max-size="maxPages" boundary-links="true" boundary-link-numbers="true" rotate="true" total-items="totalItems" ng-model="currentPage" class="pagination-sm" previous-text="&lsaquo;" next-text="&rsaquo;" first-text="&laquo;" last-text="&raquo;" ng-change="pageChanged()"></uib-pagination> </div> </form> </div> <div class="col-sm-3"> </div> </div> </div>'),a.put("views/collections.html",'<div ui-view></div> <div ui-view="list"></div>'),a.put("views/collections.list.html",'<div class="row"> <div class="col-md-12 collections"> <div class="row"> <uib-carousel active="active" interval="myInterval" no-wrap="noWrapSlides"> <uib-slide ng-repeat="block in cols | chunkBy: 4 track by $index" index="$index"> <div class="collections-list"> <!-- The collections --> <div class="collection col-sm-3" ng-repeat="col in block"> <div ng-if="col != null" class="collection-content sixteen-nine"> <div class="content"> <div class="collection-label"> {{col.name}} </div> <div class="collection-thumb"> <a ui-sref="collections.list({colId: col._id, slideIndex: $index})"> <img ng-src="{{col.img}}" class="fill img-responsive" alt="{{col.amountVideos}}"> </a> </div> <div class="collection-counter"> <span class="badge">{{col.amountVideos}}</span> </div> </div> </div> <div ng-if="col == null" class="collection-content sixteen-nine"> <div class="content"> <div class="collection-thumb"> <button class="btn btn-default round-icon-button" ng-click="newCollectionDialog()"> <span class="glyphicon glyphicon-plus"></span> </button> </div> </div> </div> </div> </div> </uib-slide> </uib-carousel> </div> </div> </div>'),a.put("views/elements/header.html",'<div class="header"> <div class="navbar navbar-default" role="navigation"> <div class="container"> <div class="navbar-header"> <a class="navbar-brand" href="#/">MecanexAdmin</a> </div> </div> </div> </div>'),a.put("views/main.html",'<div class="jumbotron"> <h1>\'Allo, \'Allo!</h1> <p class="lead"> <img src="images/yeoman.8cb970fb.png" alt="I\'m Yeoman"><br> Always a pleasure scaffolding your apps. </p> <p><a class="btn btn-lg btn-success" ng-href="#/">Splendid!<span class="glyphicon glyphicon-ok"></span></a></p> </div> <div class="row marketing"> <h4>HTML5 Boilerplate</h4> <p> HTML5 Boilerplate is a professional front-end template for building fast, robust, and adaptable web apps or sites. </p> <h4>Angular</h4> <p> AngularJS is a toolset for building the framework most suited to your application development. </p> <h4>Karma</h4> <p>Spectacular Test Runner for JavaScript.</p> </div>'),a.put("views/new-collection-dialog.html",'<div class="modal-header"> <h3 class="modal-title">New Collection</h3> </div> <div class="modal-body"> Placeholder for new collection form! </div> <div class="modal-footer"> <button class="btn btn-primary" type="button" ng-click="ok()">OK</button> <button class="btn btn-warning" type="button" ng-click="cancel()">Cancel</button> </div>'),a.put("views/videos.list.html",'<section class="videos"> <div class="row"> <div class="navbar navbar-default"> <div class="col-sm-3"> <form class="navbar-form navbar-input-group" role="search"> <div class="form-group"> <div class="input-group search"> <input type="text" class="form-control" placeholder="Search"> <div class="input-group-addon"><i class="glyphicon glyphicon-search"></i></div> </div> </div> </form> </div> <div class="col-sm-6"> <form class="text-center navbar-form navbar-input-group paging" role="pagination"> <div class="form-group"> <uib-pagination max-size="maxPages" boundary-links="true" boundary-link-numbers="true" rotate="true" total-items="totalItems" ng-model="currentPage" class="pagination-sm" previous-text="&lsaquo;" next-text="&rsaquo;" first-text="&laquo;" last-text="&raquo;" ng-change="pageChanged()"></uib-pagination> </div> </form> </div> <div class="col-sm-3"> </div> </div> </div> <div class="row"> <div class="videos-list col-sm-12"> <div class="video row" ng-repeat="video in items"> <div class="container-fluid"> <div class="col-sm-12"> <div class="row"> <div class="video-thumb"> <img class="fill image-responsive" ng-src="{{video.img}}" alt="{{video.name}}"> </div> <div class="video-information"> <div class="row fill-height"> <div class="col-sm-8"> <div class="video-descriptions"> <h3>{{video.name}}</h3> <span>{{video.description}}</span> </div> </div> <div class="col-sm-4 fill-height"> <div class="video-actions" ng-repeat="action in actions"> <button class="video-action btn btn-default round-icon-button"> <span class="glyphicon glyphicon-{{action.icon}}"></span> </button> </div> </div> </div> </div> </div> </div> </div> </div> </div> </div> <div class="navbar navbar-default"> <div class="col-sm-3"> </div> <div class="col-sm-6"> <form class="text-center navbar-form navbar-input-group paging" role="pagination"> <div class="form-group"> <uib-pagination max-size="maxPages" boundary-links="true" boundary-link-numbers="true" rotate="true" total-items="totalItems" ng-model="currentPage" class="pagination-sm" previous-text="&lsaquo;" next-text="&rsaquo;" first-text="&laquo;" last-text="&raquo;" ng-change="pageChanged()"></uib-pagination> </div> </form> </div> <div class="col-sm-3"> </div> </div>  </section>')}]);